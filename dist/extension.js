(()=>{"use strict";var e={112:function(e,o,t){var n=this&&this.__createBinding||(Object.create?function(e,o,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[t]}})}:function(e,o,t,n){void 0===n&&(n=t),e[n]=o[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,o){Object.defineProperty(e,"default",{enumerable:!0,value:o})}:function(e,o){e.default=o}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(o,e,t);return r(o,e),o};Object.defineProperty(o,"__esModule",{value:!0}),o.activate=void 0;const c=a(t(496)),i=t(81),s=a(t(17));var p=c.window.createOutputChannel("Pandoc");function d(e,o){var t=e+" ["+o+"] "+(new Date).toLocaleTimeString();c.window.setStatusBarMessage(t,1500)}o.activate=function(e){var o=c.commands.registerCommand("pandoc.render",(()=>{const e=c.window.activeTextEditor;if(!e)return;let o=s.normalize(e.document.fileName);var t=s.dirname(o),n=s.basename(o),r=s.parse(n).name;let a=[];a.push({label:"pdf",description:"Render as pdf document"}),a.push({label:"docx",description:"Render as word document"}),a.push({label:"html",description:"Render as html document"}),a.push({label:"asciidoc",description:"Render as asciidoc document"}),a.push({label:"docbook",description:"Render as docbook document"}),a.push({label:"epub",description:"Render as epub document"}),a.push({label:"rst",description:"Render as rst document"}),c.window.showQuickPick(a).then((e=>{if(e){var o=s.join(t,n).replace(/(^.*$)/gm,'"$1"'),a=(s.join(t,r)+"."+e.label).replace(/(^.*$)/gm,'"$1"');d("Generating",e.label);var l=function(e){var o;switch(e){case"pdf":o=c.workspace.getConfiguration("pandoc").get("pdfOptString"),console.log("pdocOptstring = "+o);break;case"docx":o=c.workspace.getConfiguration("pandoc").get("docxOptString"),console.log("pdocOptstring = "+o);break;case"html":o=c.workspace.getConfiguration("pandoc").get("htmlOptString"),console.log("pdocOptstring = "+o);break;case"asciidoc":o=c.workspace.getConfiguration("pandoc").get("asciidocOptString"),console.log("pdocOptstring = "+o);break;case"docbook":o=c.workspace.getConfiguration("pandoc").get("docbookOptString"),console.log("pdocOptstring = "+o);break;case"epub":o=c.workspace.getConfiguration("pandoc").get("epubOptString"),console.log("pdocOptstring = "+o);break;case"rst":o=c.workspace.getConfiguration("pandoc").get("rstOptString"),console.log("pdocOptstring = "+o)}return o}(e.label);console.log("debug: outFile = "+o),console.log("debug: inFile = "+a),console.log("debug: pandoc "+o+" -o "+a+l);var u=function(){var e;return console.log(c.workspace.getConfiguration("pandoc").get("executable")),c.workspace.getConfiguration("pandoc").has("executable")&&""!==c.workspace.getConfiguration("pandoc").get("executable")&&(e=c.workspace.getConfiguration("pandoc").get("executable")),e}();console.log("debug: pandoc executable path = "+u);var g='"'+u+'" '+o+" -o "+a+" "+l;console.log("debug: exec "+g),(0,i.exec)(g,{cwd:t},(function(o,t,n){null!==t&&(console.log(t.toString()),p.append(t.toString()+"\n")),null!==n&&(console.log(n.toString()),""!==n&&(c.window.showErrorMessage("stderr: "+n.toString()),p.append("stderr: "+n.toString()+"\n"))),null!==o?(console.log("exec error: "+o),c.window.showErrorMessage("exec error: "+o),p.append("exec error: "+o+"\n")):c.workspace.getConfiguration("pandoc").get("render.openViewer")&&(d("Launching",e.label),function(e){switch(process.platform){case"darwin":(0,i.exec)("open "+e);break;case"linux":(0,i.exec)("xdg-open "+e);break;default:(0,i.exec)(e)}}(a))}))}}))}));e.subscriptions.push(o)}},496:e=>{e.exports=require("vscode")},81:e=>{e.exports=require("child_process")},17:e=>{e.exports=require("path")}},o={},t=function t(n){var r=o[n];if(void 0!==r)return r.exports;var a=o[n]={exports:{}};return e[n].call(a.exports,a,a.exports,t),a.exports}(112);module.exports=t})();